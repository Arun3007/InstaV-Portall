<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="DELETE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category/>
        <channels/>
        <connect_queue/>
        <description>Virtual Agent conversation flow to Change Password</description>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>false</flexible_conversation_switching>
        <graph>{"graph_api_version":"1.0.39","variables":{"d82e6fb501f64527b6edbe08500ee764":{"category":"vaInputs","id":"d82e6fb501f64527b6edbe08500ee764","label":"User","name":"user","table":"sys_user","varType":"reference"},"e894972eb8bd4d06bde56884d9d78020":{"id":"e894972eb8bd4d06bde56884d9d78020","name":"change_password_process_choice","label":"Change Password Process Choice","varType":"reference","table":"","category":"vaInputs"},"4b960790dcf4462e8432987db28f29dc":{"id":"4b960790dcf4462e8432987db28f29dc","value":{"value":"","mode":"simple"},"name":"pwd_change_processes","label":"pwd_change_processes","varType":"script","category":"vaVars"},"de4e0d95ad07415a83f50718be468d71":{"id":"de4e0d95ad07415a83f50718be468d71","value":{"value":"","mode":"simple"},"name":"pwd_change_selected_process_id","label":"pwd_change_selected_process_id","varType":"script","category":"vaVars"},"1a2a694bea0c42dcb4170dc9f7e50f91":{"id":"1a2a694bea0c42dcb4170dc9f7e50f91","name":"change_result","label":"Change_result","defaultValue":"success","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"17c71746c5b347cfb254c22ab55b0d30":{"id":"17c71746c5b347cfb254c22ab55b0d30","name":"request_id","label":"Request_id","defaultValue":"request_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"b44cc463136e4d50aa04295fefbf44e1":{"id":"b44cc463136e4d50aa04295fefbf44e1","name":"change_error_message","label":"Change_error_message","defaultValue":"error_message","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"affe8394ec664ab4b6609f451aa61e8c":{"id":"affe8394ec664ab4b6609f451aa61e8c","stepType":"Start","name":"Start","greetingResponse":{"mode":"simple","value":""}},"785b400a078d4dea9d27eff261813633":{"id":"785b400a078d4dea9d27eff261813633","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""}},"7b3729c2c6fe4ff2ae63310c0f4f0ebd":{"stepType":"ReferenceChoicePrompt","name":"Change Password Process Choice","prompt":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Which password would you like to change?"},{"text":""}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"query","value":""},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"variableId":"e894972eb8bd4d06bde56884d9d78020","id":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","mode":"external","script":"(function execute() {\n    // Populate change password processes for logged in user\n    return JSON.parse(vaVars.pwd_change_processes);  \n})()\n","noRecordsResponseMsg":{"value":"(function execute() {\n     return '';\n})()\n","mode":"script"},"condition":{"value":"(function execute() {\n    // Populate change password processes for logged in user\n    return JSON.parse(vaVars.pwd_change_processes);  \n})()\n","mode":"external_script"},"withNluUserInput":false,"skipIfFulfilled":false,"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"hasCardHeader":false},"3410966e81fb4e0bacb06b0d74e2bec0":{"id":"3410966e81fb4e0bacb06b0d74e2bec0","stepType":"Decision","name":"Check Change Password Action Result"},"c20502d87d7949b2b664d2228542ee2b":{"id":"c20502d87d7949b2b664d2228542ee2b","stepType":"TextOutput","name":"Show Change Password Success Message","value":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Congrats, you have a new password!"},{"text":""}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"secure":false},"0711fd6d06144392bc74b6dd8c5a9e7c":{"id":"0711fd6d06144392bc74b6dd8c5a9e7c","stepType":"TextOutput","name":"Show Password Rule Hint","value":{"value":"(function execute() {\n    /* Populate password rule hint.\n    */\n    var ruleHint = new global.PasswordResetScopedUtil().getPasswordRuleHint(vaVars.pwd_change_selected_process_id.toString());\n    var ruleHintHeader = gs.getMessage(\"Make sure your password meets these requirements:\");\n    return ruleHintHeader + \" \\n \" + ruleHint;\n})()\n","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"6cb41e9a12f24d5bb0a950f0a66a93c7":{"id":"6cb41e9a12f24d5bb0a950f0a66a93c7","name":"Populate Change Password Process","script":"(function execute() {\n    /* Populate change password processes for logged in user\n    */ \n    var options = [];\n    var passwordResetScopedUtilObj = new global.PasswordResetScopedUtil();\n    var processIds = passwordResetScopedUtilObj.getChangePasswordProcessIds(gs.getUserID());\n    for (var i = 0; i &lt; processIds.length; i++) {\n        var processId = processIds[i];\n        var process = getProcessDetails(processId);\n        if (process != undefined) {\n            options.push(process);\n        }\n    }\n    vaVars.pwd_change_processes = JSON.stringify(options);\n\n    function getProcessDetails(processId) {\n        var gr = new GlideRecord('pwd_process');\n        gr.get(processId)\n        processDetails = {\n                'value': gr.getUniqueValue(),\n                'label': gr.getDisplayValue('label')  == \"\" || gr.getDisplayValue('label') == null\n                ?  gr.getValue('name') : gr.getDisplayValue('label')\n        }\n        return processDetails;\n    }\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    return true;\n})()\n"}},"5621a748e46b4b3fade87a230a707e16":{"id":"5621a748e46b4b3fade87a230a707e16","stepType":"Decision","name":"Check Change Password Process Count"},"256ee7634e2a41cd8bbd017bcb36440f":{"id":"256ee7634e2a41cd8bbd017bcb36440f","stepType":"TextOutput","name":"Show Default Process Selection","value":{"value":"(function execute() {\n    /* If Single change password process is configured, initialize default selection.\n    */\n    var process = JSON.parse(vaVars.pwd_change_processes);\n    vaVars.pwd_change_selected_process_id = process[0].value;\n    return gs.getMessage(\"OK, you're changing the password for  {0}\", process[0].label);\n})()\n","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"330b8af0946746d791789a06630bf4d2":{"id":"330b8af0946746d791789a06630bf4d2","name":"Set User Selected Process ","script":"(function execute() {\n    /* Initialize the chage password process selection\n    */\n    vaVars.pwd_change_selected_process_id = vaInputs.change_password_process_choice.toString();\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"424b7b8ffd184e88aaa31de1861d1dad":{"id":"424b7b8ffd184e88aaa31de1861d1dad","stepType":"TextOutput","name":"Show Change Password Failed Message","value":{"value":"(function execute() {\n    /* Set error message\n     */\n\n    return vaInputs.change_error_message;\n})()","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"e421a2ddc54547eb9e9b4e289ec5e9bf":{"id":"e421a2ddc54547eb9e9b4e289ec5e9bf","stepType":"Decision","name":"Does Channel Support Password Field"},"de8a9227b9ef4c1b9f03ea2b884bee4e":{"id":"de8a9227b9ef4c1b9f03ea2b884bee4e","stepType":"LinkOutput","name":"Change Password Link","url":{"value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri') + 'nav_to.do?uri=$pwd_change.do';\n})()\n","mode":"script"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click here to change password."}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"I'm not able to change your password. "}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"87705aeb85384c4f84daa0d8f8bf999a":{"id":"87705aeb85384c4f84daa0d8f8bf999a","stepType":"Component","name":"No Deflection","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"9ee3409253213010000dddeeff7b123b","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"9e3b739dd10447ee9bbcafc6127971ac":{"id":"9e3b739dd10447ee9bbcafc6127971ac","stepType":"Component","name":"Deflection: Password Change Successful","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"0273885253213010000dddeeff7b1210","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"1f7646cd115d48869cb7a789e751d233":{"id":"1f7646cd115d48869cb7a789e751d233","stepType":"CustomControl","name":"Change Password Component","fields":[],"applicability":{"value":"","mode":"query"},"reusableTopicChoice":"Change Password Component","reusableTopicId":"a50f60a55324011017c3ddeeff7b12b6","inputs":{"process":{"value":"(function execute() {\n\n    return vaVars.pwd_change_selected_process_id;\n})()\n","mode":"script","type":"Reference","table":"pwd_process"},"username":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.user.user_name}}","displayValue":"Input Variables➛User➛User ID"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"}},"outputs":[{"id":"1a2a694bea0c42dcb4170dc9f7e50f91","value":"success","mapping":"change_result","preventDisable":false},{"id":"17c71746c5b347cfb254c22ab55b0d30","value":"request_id","mapping":"request_id","preventDisable":false},{"id":"b44cc463136e4d50aa04295fefbf44e1","value":"error_message","mapping":"change_error_message","preventDisable":false}],"variableIds":["1a2a694bea0c42dcb4170dc9f7e50f91","17c71746c5b347cfb254c22ab55b0d30","b44cc463136e4d50aa04295fefbf44e1"],"outdatedNote":false,"loading":false},"0caa66840092413096f9813055f1950f":{"id":"0caa66840092413096f9813055f1950f","stepType":"TextOutput","name":"Show user is blocked","secure":false,"value":{"value":[{"type":"paragraph","children":[{"text":"I wasn't able to change your password for you because you've either already changed it recently or reached the limit on update attempts."}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"}}},"edges":[{"id":"adacb7b07cd34003a5d4eb50ec8f7c12","edgeType":"Edge","source":"330b8af0946746d791789a06630bf4d2","target":"0711fd6d06144392bc74b6dd8c5a9e7c","sourcePort":"","targetPort":""},{"id":"0964f3be95334d1f8acdedc2fdc8cc86","edgeType":"Edge","source":"424b7b8ffd184e88aaa31de1861d1dad","target":"87705aeb85384c4f84daa0d8f8bf999a","sourcePort":"","targetPort":""},{"id":"0cd18d94bb9d4400ba37ddd50f4e804a","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"424b7b8ffd184e88aaa31de1861d1dad","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process failed result\n    */\n    return vaInputs.change_result == 'failure';\n})()\n"},"label":"Change Password Failed"},{"id":"ed76b3f558e94ec6a723c540c58aa6b3","edgeType":"Edge","source":"de8a9227b9ef4c1b9f03ea2b884bee4e","target":"9e3b739dd10447ee9bbcafc6127971ac","sourcePort":"","targetPort":""},{"id":"7f42f1975cb141d9bc9f5bdfd9057445","edgeType":"Branch","source":"e421a2ddc54547eb9e9b4e289ec5e9bf","target":"de8a9227b9ef4c1b9f03ea2b884bee4e","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    var PROP_VA_PASSWORD_SUPPORTED_CHANNELS = \"sn_pwdreset_va.supported_channels\";\n    var SPLIT_CHAR = \",\";\n    return gs.getProperty(PROP_VA_PASSWORD_SUPPORTED_CHANNELS).split(SPLIT_CHAR).indexOf(vaContext.deviceType) &lt; 0;\n})()\n"},"label":"Channel Does Not Support Password Field"},{"id":"03011f19c54f48c784dceec5c6ee60c2","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"c20502d87d7949b2b664d2228542ee2b","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process Result\n    */\n    \n    return vaInputs.change_result == 'success';\n})()\n"},"label":"Change Password Success"},{"id":"e7fd573597b040f4a25ca8db2d034c99","edgeType":"Edge","source":"6cb41e9a12f24d5bb0a950f0a66a93c7","target":"5621a748e46b4b3fade87a230a707e16","sourcePort":"","targetPort":""},{"id":"12a7952b666e4b62b2fe77e9f568b9d4","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* If more than one change password processes are configured for user\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length &gt; 1;\n})()\n"},"label":"Multi Process"},{"id":"c4d142d879344335a4805d28c4e9b1d9","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"de8a9227b9ef4c1b9f03ea2b884bee4e","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* If change password process is not configured for user.\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length == 0;\n})()\n"},"label":"Process Not Configured"},{"id":"675d2ae99afc4648a7e659a242ed7178","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"256ee7634e2a41cd8bbd017bcb36440f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Check number of change password process entitled for user, if single process exists,\n     select it.\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length == 1;\n})()\n"},"label":"Single Process"},{"id":"b1c0b24ae1f54adc8f348c102e367e94","edgeType":"Edge","source":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","target":"330b8af0946746d791789a06630bf4d2","sourcePort":"","targetPort":""},{"id":"72a1e5ffe70c4ceaaf79b386601e5679","edgeType":"Edge","source":"256ee7634e2a41cd8bbd017bcb36440f","target":"0711fd6d06144392bc74b6dd8c5a9e7c","sourcePort":"","targetPort":""},{"id":"4ddd6c025df34554ad5ab4f0f95eb602","edgeType":"Edge","source":"affe8394ec664ab4b6609f451aa61e8c","target":"e421a2ddc54547eb9e9b4e289ec5e9bf","sourcePort":"","targetPort":""},{"id":"b97ab05aa7844f32b9f75e6751e41529","edgeType":"Branch","source":"e421a2ddc54547eb9e9b4e289ec5e9bf","target":"6cb41e9a12f24d5bb0a950f0a66a93c7","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    var PROP_VA_PASSWORD_SUPPORTED_CHANNELS = \"sn_pwdreset_va.supported_channels\";\n    var SPLIT_CHAR = \",\";\n    return gs.getProperty(PROP_VA_PASSWORD_SUPPORTED_CHANNELS).split(SPLIT_CHAR).indexOf(vaContext.deviceType) &gt; -1;\n})()\n"},"label":"Channel Supports Password Field"},{"id":"0ea3ad917f314ca99f4658bc7ca7e222","edgeType":"Edge","source":"87705aeb85384c4f84daa0d8f8bf999a","target":"785b400a078d4dea9d27eff261813633","sourcePort":"","targetPort":""},{"id":"290672078d6e4a5899c39cc5d1a78fc2","edgeType":"Edge","source":"c20502d87d7949b2b664d2228542ee2b","target":"9e3b739dd10447ee9bbcafc6127971ac","sourcePort":"","targetPort":""},{"id":"054208676c6f4be3badb04f86127ece8","edgeType":"Edge","source":"9e3b739dd10447ee9bbcafc6127971ac","target":"785b400a078d4dea9d27eff261813633","sourcePort":"","targetPort":""},{"id":"95360ceaedfe4d7697c7f30fe2b6b581","edgeType":"Edge","source":"0711fd6d06144392bc74b6dd8c5a9e7c","target":"1f7646cd115d48869cb7a789e751d233","sourcePort":"","targetPort":""},{"id":"12e6331910364d00b1fc55ad739cb56c","edgeType":"Edge","source":"1f7646cd115d48869cb7a789e751d233","target":"3410966e81fb4e0bacb06b0d74e2bec0","sourcePort":"","targetPort":""},{"id":"30b612ace54049da86d2a74f6e19751f","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"0caa66840092413096f9813055f1950f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process failed result\n    */\n    return vaInputs.change_result == 'block';\n})()\n"},"label":"Show user is blocked"},{"id":"01cd5d0c182c4b7f8ff834cc9009d6e4","edgeType":"Edge","source":"0caa66840092413096f9813055f1950f","target":"87705aeb85384c4f84daa0d8f8bf999a","sourcePort":"","targetPort":""}]}}}</graph>
        <key_phrases>Password Change,Password,Change,Change Password</key_phrases>
        <library>false</library>
        <live_agent>false</live_agent>
        <name>Password Change</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <secure_custom_input_control>false</secure_custom_input_control>
        <source_topic_id>0a81dacdc7d310100a9b5d83c7c2608b</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>Jab19</sys_created_by>
        <sys_created_on>2022-10-07 09:58:24</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>85808b8b871e9550f7c50e1d0ebb35a3</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Password Change</sys_name>
        <sys_package display_value="InstaV Portal" source="x_intep_instav">d86e2d95874a5110f7c50e1d0ebb357d</sys_package>
        <sys_policy/>
        <sys_scope display_value="InstaV Portal">d86e2d95874a5110f7c50e1d0ebb357d</sys_scope>
        <sys_update_name>sys_cb_topic_85808b8b871e9550f7c50e1d0ebb35a3</sys_update_name>
        <sys_updated_by>Jab19</sys_updated_by>
        <sys_updated_on>2022-10-07 09:58:24</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>STANDARD</type>
        <variables/>
    </sys_cb_topic>
    <sys_variable_value action="DELETE" query="document_key=85808b8b871e9550f7c50e1d0ebb35a3"/>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="InstaV Portal">d86e2d95874a5110f7c50e1d0ebb357d</application>
        <file_path/>
        <instance_id>5b3553eddb6af41007072f17d4961905</instance_id>
        <instance_name>instavtechnologiespvtltddemo4</instance_name>
        <name>sys_cb_topic_85808b8b871e9550f7c50e1d0ebb35a3</name>
        <payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category/><channels/><connect_queue/><description>Virtual Agent conversation flow to Change Password</description><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><graph>{"graph_api_version":"1.0.39","variables":{"d82e6fb501f64527b6edbe08500ee764":{"category":"vaInputs","id":"d82e6fb501f64527b6edbe08500ee764","label":"User","name":"user","table":"sys_user","varType":"reference"},"e894972eb8bd4d06bde56884d9d78020":{"id":"e894972eb8bd4d06bde56884d9d78020","name":"change_password_process_choice","label":"Change Password Process Choice","varType":"reference","table":"","category":"vaInputs"},"4b960790dcf4462e8432987db28f29dc":{"id":"4b960790dcf4462e8432987db28f29dc","value":{"value":"","mode":"simple"},"name":"pwd_change_processes","label":"pwd_change_processes","varType":"script","category":"vaVars"},"de4e0d95ad07415a83f50718be468d71":{"id":"de4e0d95ad07415a83f50718be468d71","value":{"value":"","mode":"simple"},"name":"pwd_change_selected_process_id","label":"pwd_change_selected_process_id","varType":"script","category":"vaVars"},"1a2a694bea0c42dcb4170dc9f7e50f91":{"id":"1a2a694bea0c42dcb4170dc9f7e50f91","name":"change_result","label":"Change_result","defaultValue":"success","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"17c71746c5b347cfb254c22ab55b0d30":{"id":"17c71746c5b347cfb254c22ab55b0d30","name":"request_id","label":"Request_id","defaultValue":"request_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false},"b44cc463136e4d50aa04295fefbf44e1":{"id":"b44cc463136e4d50aa04295fefbf44e1","name":"change_error_message","label":"Change_error_message","defaultValue":"error_message","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"affe8394ec664ab4b6609f451aa61e8c":{"id":"affe8394ec664ab4b6609f451aa61e8c","stepType":"Start","name":"Start","greetingResponse":{"mode":"simple","value":""}},"785b400a078d4dea9d27eff261813633":{"id":"785b400a078d4dea9d27eff261813633","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""}},"7b3729c2c6fe4ff2ae63310c0f4f0ebd":{"stepType":"ReferenceChoicePrompt","name":"Change Password Process Choice","prompt":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Which password would you like to change?"},{"text":""}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"query","value":""},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"variableId":"e894972eb8bd4d06bde56884d9d78020","id":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","mode":"external","script":"(function execute() {\n    // Populate change password processes for logged in user\n    return JSON.parse(vaVars.pwd_change_processes);  \n})()\n","noRecordsResponseMsg":{"value":"(function execute() {\n     return '';\n})()\n","mode":"script"},"condition":{"value":"(function execute() {\n    // Populate change password processes for logged in user\n    return JSON.parse(vaVars.pwd_change_processes);  \n})()\n","mode":"external_script"},"withNluUserInput":false,"skipIfFulfilled":false,"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"hasCardHeader":false},"3410966e81fb4e0bacb06b0d74e2bec0":{"id":"3410966e81fb4e0bacb06b0d74e2bec0","stepType":"Decision","name":"Check Change Password Action Result"},"c20502d87d7949b2b664d2228542ee2b":{"id":"c20502d87d7949b2b664d2228542ee2b","stepType":"TextOutput","name":"Show Change Password Success Message","value":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Congrats, you have a new password!"},{"text":""}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"secure":false},"0711fd6d06144392bc74b6dd8c5a9e7c":{"id":"0711fd6d06144392bc74b6dd8c5a9e7c","stepType":"TextOutput","name":"Show Password Rule Hint","value":{"value":"(function execute() {\n    /* Populate password rule hint.\n    */\n    var ruleHint = new global.PasswordResetScopedUtil().getPasswordRuleHint(vaVars.pwd_change_selected_process_id.toString());\n    var ruleHintHeader = gs.getMessage(\"Make sure your password meets these requirements:\");\n    return ruleHintHeader + \" \\n \" + ruleHint;\n})()\n","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"6cb41e9a12f24d5bb0a950f0a66a93c7":{"id":"6cb41e9a12f24d5bb0a950f0a66a93c7","name":"Populate Change Password Process","script":"(function execute() {\n    /* Populate change password processes for logged in user\n    */ \n    var options = [];\n    var passwordResetScopedUtilObj = new global.PasswordResetScopedUtil();\n    var processIds = passwordResetScopedUtilObj.getChangePasswordProcessIds(gs.getUserID());\n    for (var i = 0; i &lt; processIds.length; i++) {\n        var processId = processIds[i];\n        var process = getProcessDetails(processId);\n        if (process != undefined) {\n            options.push(process);\n        }\n    }\n    vaVars.pwd_change_processes = JSON.stringify(options);\n\n    function getProcessDetails(processId) {\n        var gr = new GlideRecord('pwd_process');\n        gr.get(processId)\n        processDetails = {\n                'value': gr.getUniqueValue(),\n                'label': gr.getDisplayValue('label')  == \"\" || gr.getDisplayValue('label') == null\n                ?  gr.getValue('name') : gr.getDisplayValue('label')\n        }\n        return processDetails;\n    }\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    return true;\n})()\n"}},"5621a748e46b4b3fade87a230a707e16":{"id":"5621a748e46b4b3fade87a230a707e16","stepType":"Decision","name":"Check Change Password Process Count"},"256ee7634e2a41cd8bbd017bcb36440f":{"id":"256ee7634e2a41cd8bbd017bcb36440f","stepType":"TextOutput","name":"Show Default Process Selection","value":{"value":"(function execute() {\n    /* If Single change password process is configured, initialize default selection.\n    */\n    var process = JSON.parse(vaVars.pwd_change_processes);\n    vaVars.pwd_change_selected_process_id = process[0].value;\n    return gs.getMessage(\"OK, you're changing the password for  {0}\", process[0].label);\n})()\n","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"330b8af0946746d791789a06630bf4d2":{"id":"330b8af0946746d791789a06630bf4d2","name":"Set User Selected Process ","script":"(function execute() {\n    /* Initialize the chage password process selection\n    */\n    vaVars.pwd_change_selected_process_id = vaInputs.change_password_process_choice.toString();\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"424b7b8ffd184e88aaa31de1861d1dad":{"id":"424b7b8ffd184e88aaa31de1861d1dad","stepType":"TextOutput","name":"Show Change Password Failed Message","value":{"value":"(function execute() {\n    /* Set error message\n     */\n\n    return vaInputs.change_error_message;\n})()","mode":"script"},"applicability":{"value":"","mode":"query"},"secure":false},"e421a2ddc54547eb9e9b4e289ec5e9bf":{"id":"e421a2ddc54547eb9e9b4e289ec5e9bf","stepType":"Decision","name":"Does Channel Support Password Field"},"de8a9227b9ef4c1b9f03ea2b884bee4e":{"id":"de8a9227b9ef4c1b9f03ea2b884bee4e","stepType":"LinkOutput","name":"Change Password Link","url":{"value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri') + 'nav_to.do?uri=$pwd_change.do';\n})()\n","mode":"script"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click here to change password."}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"I'm not able to change your password. "}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"87705aeb85384c4f84daa0d8f8bf999a":{"id":"87705aeb85384c4f84daa0d8f8bf999a","stepType":"Component","name":"No Deflection","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"9ee3409253213010000dddeeff7b123b","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"9e3b739dd10447ee9bbcafc6127971ac":{"id":"9e3b739dd10447ee9bbcafc6127971ac","stepType":"Component","name":"Deflection: Password Change Successful","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"0273885253213010000dddeeff7b1210","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"1f7646cd115d48869cb7a789e751d233":{"id":"1f7646cd115d48869cb7a789e751d233","stepType":"CustomControl","name":"Change Password Component","fields":[],"applicability":{"value":"","mode":"query"},"reusableTopicChoice":"Change Password Component","reusableTopicId":"a50f60a55324011017c3ddeeff7b12b6","inputs":{"process":{"value":"(function execute() {\n\n    return vaVars.pwd_change_selected_process_id;\n})()\n","mode":"script","type":"Reference","table":"pwd_process"},"username":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.user.user_name}}","displayValue":"Input Variables➛User➛User ID"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"}},"outputs":[{"id":"1a2a694bea0c42dcb4170dc9f7e50f91","value":"success","mapping":"change_result","preventDisable":false},{"id":"17c71746c5b347cfb254c22ab55b0d30","value":"request_id","mapping":"request_id","preventDisable":false},{"id":"b44cc463136e4d50aa04295fefbf44e1","value":"error_message","mapping":"change_error_message","preventDisable":false}],"variableIds":["1a2a694bea0c42dcb4170dc9f7e50f91","17c71746c5b347cfb254c22ab55b0d30","b44cc463136e4d50aa04295fefbf44e1"],"outdatedNote":false,"loading":false},"0caa66840092413096f9813055f1950f":{"id":"0caa66840092413096f9813055f1950f","stepType":"TextOutput","name":"Show user is blocked","secure":false,"value":{"value":[{"type":"paragraph","children":[{"text":"I wasn't able to change your password for you because you've either already changed it recently or reached the limit on update attempts."}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"}}},"edges":[{"id":"adacb7b07cd34003a5d4eb50ec8f7c12","edgeType":"Edge","source":"330b8af0946746d791789a06630bf4d2","target":"0711fd6d06144392bc74b6dd8c5a9e7c","sourcePort":"","targetPort":""},{"id":"0964f3be95334d1f8acdedc2fdc8cc86","edgeType":"Edge","source":"424b7b8ffd184e88aaa31de1861d1dad","target":"87705aeb85384c4f84daa0d8f8bf999a","sourcePort":"","targetPort":""},{"id":"0cd18d94bb9d4400ba37ddd50f4e804a","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"424b7b8ffd184e88aaa31de1861d1dad","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process failed result\n    */\n    return vaInputs.change_result == 'failure';\n})()\n"},"label":"Change Password Failed"},{"id":"ed76b3f558e94ec6a723c540c58aa6b3","edgeType":"Edge","source":"de8a9227b9ef4c1b9f03ea2b884bee4e","target":"9e3b739dd10447ee9bbcafc6127971ac","sourcePort":"","targetPort":""},{"id":"7f42f1975cb141d9bc9f5bdfd9057445","edgeType":"Branch","source":"e421a2ddc54547eb9e9b4e289ec5e9bf","target":"de8a9227b9ef4c1b9f03ea2b884bee4e","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    var PROP_VA_PASSWORD_SUPPORTED_CHANNELS = \"sn_pwdreset_va.supported_channels\";\n    var SPLIT_CHAR = \",\";\n    return gs.getProperty(PROP_VA_PASSWORD_SUPPORTED_CHANNELS).split(SPLIT_CHAR).indexOf(vaContext.deviceType) &lt; 0;\n})()\n"},"label":"Channel Does Not Support Password Field"},{"id":"03011f19c54f48c784dceec5c6ee60c2","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"c20502d87d7949b2b664d2228542ee2b","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process Result\n    */\n    \n    return vaInputs.change_result == 'success';\n})()\n"},"label":"Change Password Success"},{"id":"e7fd573597b040f4a25ca8db2d034c99","edgeType":"Edge","source":"6cb41e9a12f24d5bb0a950f0a66a93c7","target":"5621a748e46b4b3fade87a230a707e16","sourcePort":"","targetPort":""},{"id":"12a7952b666e4b62b2fe77e9f568b9d4","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* If more than one change password processes are configured for user\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length &gt; 1;\n})()\n"},"label":"Multi Process"},{"id":"c4d142d879344335a4805d28c4e9b1d9","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"de8a9227b9ef4c1b9f03ea2b884bee4e","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* If change password process is not configured for user.\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length == 0;\n})()\n"},"label":"Process Not Configured"},{"id":"675d2ae99afc4648a7e659a242ed7178","edgeType":"Branch","source":"5621a748e46b4b3fade87a230a707e16","target":"256ee7634e2a41cd8bbd017bcb36440f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Check number of change password process entitled for user, if single process exists,\n     select it.\n    */\n    var processes = JSON.parse(vaVars.pwd_change_processes);\n    return processes.length == 1;\n})()\n"},"label":"Single Process"},{"id":"b1c0b24ae1f54adc8f348c102e367e94","edgeType":"Edge","source":"7b3729c2c6fe4ff2ae63310c0f4f0ebd","target":"330b8af0946746d791789a06630bf4d2","sourcePort":"","targetPort":""},{"id":"72a1e5ffe70c4ceaaf79b386601e5679","edgeType":"Edge","source":"256ee7634e2a41cd8bbd017bcb36440f","target":"0711fd6d06144392bc74b6dd8c5a9e7c","sourcePort":"","targetPort":""},{"id":"4ddd6c025df34554ad5ab4f0f95eb602","edgeType":"Edge","source":"affe8394ec664ab4b6609f451aa61e8c","target":"e421a2ddc54547eb9e9b4e289ec5e9bf","sourcePort":"","targetPort":""},{"id":"b97ab05aa7844f32b9f75e6751e41529","edgeType":"Branch","source":"e421a2ddc54547eb9e9b4e289ec5e9bf","target":"6cb41e9a12f24d5bb0a950f0a66a93c7","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    var PROP_VA_PASSWORD_SUPPORTED_CHANNELS = \"sn_pwdreset_va.supported_channels\";\n    var SPLIT_CHAR = \",\";\n    return gs.getProperty(PROP_VA_PASSWORD_SUPPORTED_CHANNELS).split(SPLIT_CHAR).indexOf(vaContext.deviceType) &gt; -1;\n})()\n"},"label":"Channel Supports Password Field"},{"id":"0ea3ad917f314ca99f4658bc7ca7e222","edgeType":"Edge","source":"87705aeb85384c4f84daa0d8f8bf999a","target":"785b400a078d4dea9d27eff261813633","sourcePort":"","targetPort":""},{"id":"290672078d6e4a5899c39cc5d1a78fc2","edgeType":"Edge","source":"c20502d87d7949b2b664d2228542ee2b","target":"9e3b739dd10447ee9bbcafc6127971ac","sourcePort":"","targetPort":""},{"id":"054208676c6f4be3badb04f86127ece8","edgeType":"Edge","source":"9e3b739dd10447ee9bbcafc6127971ac","target":"785b400a078d4dea9d27eff261813633","sourcePort":"","targetPort":""},{"id":"95360ceaedfe4d7697c7f30fe2b6b581","edgeType":"Edge","source":"0711fd6d06144392bc74b6dd8c5a9e7c","target":"1f7646cd115d48869cb7a789e751d233","sourcePort":"","targetPort":""},{"id":"12e6331910364d00b1fc55ad739cb56c","edgeType":"Edge","source":"1f7646cd115d48869cb7a789e751d233","target":"3410966e81fb4e0bacb06b0d74e2bec0","sourcePort":"","targetPort":""},{"id":"30b612ace54049da86d2a74f6e19751f","edgeType":"Branch","source":"3410966e81fb4e0bacb06b0d74e2bec0","target":"0caa66840092413096f9813055f1950f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Process failed result\n    */\n    return vaInputs.change_result == 'block';\n})()\n"},"label":"Show user is blocked"},{"id":"01cd5d0c182c4b7f8ff834cc9009d6e4","edgeType":"Edge","source":"0caa66840092413096f9813055f1950f","target":"87705aeb85384c4f84daa0d8f8bf999a","sourcePort":"","targetPort":""}]}}}</graph><key_phrases>Password Change,Password,Change,Change Password</key_phrases><library>false</library><live_agent>false</live_agent><name>Password Change</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><secure_custom_input_control>false</secure_custom_input_control><source_topic_id>0a81dacdc7d310100a9b5d83c7c2608b</source_topic_id><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>Jab19</sys_created_by><sys_created_on>2022-10-07 09:58:24</sys_created_on><sys_domain>global</sys_domain><sys_id>85808b8b871e9550f7c50e1d0ebb35a3</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Password Change</sys_name><sys_package display_value="InstaV Portal" source="x_intep_instav">d86e2d95874a5110f7c50e1d0ebb357d</sys_package><sys_policy/><sys_scope display_value="InstaV Portal">d86e2d95874a5110f7c50e1d0ebb357d</sys_scope><sys_update_name>sys_cb_topic_85808b8b871e9550f7c50e1d0ebb35a3</sys_update_name><sys_updated_by>Jab19</sys_updated_by><sys_updated_on>2022-10-07 09:58:24</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type><variables/></sys_cb_topic><sys_variable_value action="delete_multiple" query="document_key=85808b8b871e9550f7c50e1d0ebb35a3"/></record_update>]]></payload>
        <payload_hash>91843786</payload_hash>
        <record_name>Password Change</record_name>
        <reverted_from/>
        <source>7a3d9139871e5150f7c50e1d0ebb3587</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>Jab19</sys_created_by>
        <sys_created_on>2022-10-07 09:58:26</sys_created_on>
        <sys_id>21800f8b871e9550f7c50e1d0ebb359e</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>183b1e1c22f0000001</sys_recorded_at>
        <sys_updated_by>Jab19</sys_updated_by>
        <sys_updated_on>2022-10-07 09:58:26</sys_updated_on>
        <type>Topic</type>
        <update_guid>69800f8ba41e955075f15d74ecd3c29d</update_guid>
        <update_guid_history>69800f8ba41e955075f15d74ecd3c29d:91843786</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>Jab19</sys_created_by>
        <sys_created_on>2022-10-07 10:01:12</sys_created_on>
        <sys_db_object display_value="" name="sys_cb_topic">sys_cb_topic</sys_db_object>
        <sys_id>244b4913e4d14001bb8f6d3c65b2d999</sys_id>
        <sys_metadata>85808b8b871e9550f7c50e1d0ebb35a3</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Password Change</sys_name>
        <sys_package display_value="InstaV Portal" source="x_intep_instav">d86e2d95874a5110f7c50e1d0ebb357d</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="InstaV Portal">d86e2d95874a5110f7c50e1d0ebb357d</sys_scope>
        <sys_scope_delete display_value="">74cfaf93962f4aa9bc64e19b81ff1861</sys_scope_delete>
        <sys_update_name>sys_cb_topic_85808b8b871e9550f7c50e1d0ebb35a3</sys_update_name>
        <sys_update_version display_value="sys_cb_topic_85808b8b871e9550f7c50e1d0ebb35a3">21800f8b871e9550f7c50e1d0ebb359e</sys_update_version>
        <sys_updated_by>Jab19</sys_updated_by>
        <sys_updated_on>2022-10-07 10:01:12</sys_updated_on>
    </sys_metadata_delete>
</record_update>
