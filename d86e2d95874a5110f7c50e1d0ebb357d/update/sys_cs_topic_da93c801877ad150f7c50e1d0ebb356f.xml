<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cs_topic">
    <sys_cs_topic action="INSERT_OR_UPDATE">
        <active>false</active>
        <applicability>true</applicability>
        <autopilot_topic>false</autopilot_topic>
        <cb_topic_id display_value="Check request item Status">c2310cc9873ad150f7c50e1d0ebb3592</cb_topic_id>
        <channels/>
        <definition>{"id":"c2310cc9873ad150f7c50e1d0ebb3592","name":"Check request item Status","system_topic":false,"autopilot_topic":false,"vendor_id":"c2f0b8f187033200246ddd4c97cb0bb9","description":"Check request item Status","applicability":"true","categories":[],"key_phrases":["Check request item Status","Check status","ticket status","latest","update","check","status","Request","Requested Item","Incident"],"variables":[{"name":"LiveAgent_application","type":"java.lang.Object","init_value":"\"itsm\""},{"name":"index","type":"java.lang.Object","init_value":"0"},{"name":"limit","type":"java.lang.Object","init_value":"5"},{"name":"incident_count","type":"java.lang.Object","init_value":"0"},{"name":"requested_item_count","type":"java.lang.Object","init_value":"0"},{"name":"table_name","type":"java.lang.Object"},{"name":"count","type":"java.lang.Object","init_value":"0"},{"name":"sys_id","type":"java.lang.Object"},{"name":"portalName","type":"java.lang.Object","init_value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()\n"},{"name":"max_comment_count","type":"java.lang.Object","init_value":"3"},{"name":"comments_length","type":"java.lang.Object","init_value":"143"},{"name":"baseUri","type":"java.lang.Object","init_value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri') ;\n})()\n"},{"name":"optionsCount_2b16b8bc72fc4e4a9c02f53525b42881","type":"java.lang.Object"},{"name":"optionsCount_ee26b96d5eb5494c8cb9a448f88053a2","type":"java.lang.Object"},{"name":"__multipart_total__e20bc9f57b31474a8e5f9a4b76963fcb","type":"java.lang.Object"},{"name":"__multipart_idx__e20bc9f57b31474a8e5f9a4b76963fcb","type":"java.lang.Object"},{"name":"__multipart_valid__e20bc9f57b31474a8e5f9a4b76963fcb","type":"java.lang.Object"},{"name":"__multipart_total__c23ba424b8b44fc7bb333e41da843fbd","type":"java.lang.Object"},{"name":"__multipart_idx__c23ba424b8b44fc7bb333e41da843fbd","type":"java.lang.Object"},{"name":"__multipart_valid__c23ba424b8b44fc7bb333e41da843fbd","type":"java.lang.Object"},{"name":"__multipart_total__797dbf0df1cf4549a8a7c1ce7e76e587","type":"java.lang.Object"},{"name":"__multipart_idx__797dbf0df1cf4549a8a7c1ce7e76e587","type":"java.lang.Object"},{"name":"__multipart_valid__797dbf0df1cf4549a8a7c1ce7e76e587","type":"java.lang.Object"},{"name":"__segment_trigger_2f22bad2bf724530bc2aa929b6e255bc_done","type":"java.lang.Object","init_value":"false"},{"name":"previous_graph_node","type":"java.lang.Object"}],"fields":[{"type":"ID","name":"get_record","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"get_record","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_2b16b8bc72fc4e4a9c02f53525b42881 = 0; var funcObj = {\"buildOptions\": function() {return (function execute() {\n    /*\n        1. Query the requested items table and get all the active items requested_for the user\n        2. Show the recently updated 5(limit) requested items, apply pagination if there are more than 5.\n    */\n\n\n    var count = 0;\n\n    var options = [];    \n    var gr = new GlideRecord(vaVars.table_name);\n    gr.addActiveQuery();\n    if (vaVars.table_name == 'incident')\n        gr.addQuery('caller_id', vaInputs.user);\n    else \n        gr.addQuery('request.requested_for', vaInputs.user);\n\n    gr.orderByDesc('sys_updated_on');\n    gr.query();\n\n    count = gr.getRowCount();\n    vaVars.count = count;\n    var cnt = 0;\n\n    while(gr.next()) {\n        if (gr.canRead()) {\n            if (vaVars.table_name == 'incident')\n                options.push({ 'value': gr.getUniqueValue(), 'label': gr.getDisplayValue('short_description') + ' [' + gr.getValue('number') + ']'});\n            else\n                options.push({ 'value': gr.getUniqueValue(), 'label': gr.getDisplayValue('cat_item')  + ' [' + gr.getValue('number') + ']'});\n            cnt++;\n        } \n    }\n\n        \n    return options;\n})();}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_2b16b8bc72fc4e4a9c02f53525b42881 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"ID","name":"incident_or_requested_item","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"dynamic_enum_list":{"name":"incident_or_requested_item","props":[{"name":"value","isItemValue":true,"isPicture":false},{"name":"label","isItemValue":false,"isPicture":false}]},"binding":{"write_to":[],"enum_list":{"expression":"(function execute() {var vaRuntimeUtil = new global.VaTopicRuntimeUtil();vaVars.optionsCount_ee26b96d5eb5494c8cb9a448f88053a2 = 0; var funcObj = {\"buildOptions\": function() {return [{\"value\":\"incident\",\"label\":gs.getMessageLang(\"Incident\", vaContext.getRequesterLang())},{\"value\":\"sc_req_item\",\"label\":gs.getMessageLang(\"Requested Item \", vaContext.getRequesterLang())}];}};function isValid(option) {return !gs.nil(option) &amp;&amp; !gs.nil(option.value) &amp;&amp; !gs.nil(option.label);}function fixInvalid(invalidOption) {var fixedOption = {'value': 'no_data', 'label': 'no_data'};if (!gs.nil(invalidOption)) {fixedOption.value = !gs.nil(invalidOption.value) ? invalidOption.value : fixedOption.value;fixedOption.label = !gs.nil(invalidOption.label) ? invalidOption.label : fixedOption.label;}return fixedOption;}function normalizeKeys(obj){Object.keys(obj).forEach(function (key) {var k = key.toLowerCase();if (k !== key) {obj[k] = obj[key];delete obj[key];}});return (obj);}var choiceOptions = [];choiceOptions = vaRuntimeUtil.executeFunction(funcObj, 'buildOptions');var noOptions = gs.nil(choiceOptions) || choiceOptions.length==0;if (noOptions) {choiceOptions = [];}else {var invalidCount = 0;var normalizedChoiceOptions = [];for (var i = 0; i &lt; choiceOptions.length; i++) {normalizedChoiceOptions.push(normalizeKeys(choiceOptions[i]));}choiceOptions = normalizedChoiceOptions;for (var i = 0; i &lt; choiceOptions.length; i++) {if (gs.nil(choiceOptions[i].label)) {choiceOptions[i].label = choiceOptions[i].value;}}for (var i = 0; i &lt; choiceOptions.length; i++) {if (!isValid(choiceOptions[i])) {invalidCount++;choiceOptions[i] = fixInvalid(choiceOptions[i]);}}noOptions = invalidCount === choiceOptions.length;if (noOptions) {choiceOptions = [];}vaVars.optionsCount_ee26b96d5eb5494c8cb9a448f88053a2 = choiceOptions.length;return choiceOptions;}})();"}},"metadata_script":""},{"type":"Boolean","name":"add_comment","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"comment","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"Reference","table_name":"sys_user","name":"user","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"Boolean","name":"RootDecisionBranch_7881bb01b1b6155085912c3dde65434c","unique":false,"default_value":"true","key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[]},{"type":"String","name":"__silent_Branch_aec40736035b4fa89c856591d3c40f63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_OutputPrompt_3e336b038b3e422b92637e149453b19d","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_RootDecision_f481bb014db61550084f07a6234ef04c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_65284e6e9a8c4619a5a53b6029776229","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_5e30f312156e480ba497eff642c3500c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptOutputPrompt_e20bc9f57b31474a8e5f9a4b76963fcb","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_dc00d0e3f354451c945c320feb374512","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_a4865bb3db6944a18f9f5de39e255406","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_bdcac7e7600b4030967b87fa3c8a07d4","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_b96fc2487cc0494cb54fac88665cbbec","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_bd265b3bc4c74c76923775c371d56142","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_d6162e4fcfcd422c897e302e315ce3e1","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptOutputPrompt_c23ba424b8b44fc7bb333e41da843fbd","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e2fbf150893f42a88da9f4094038078e","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_2d29e5a6474a428a8381733c296a1241","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_e835c3a20cb54e25adceb999d017340a","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_2dc6f161ba354a02aa0fdebdfb782ef2","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_StartGoal_61e306891a474b079ac522a83f5a5a13","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_6e68746a84f044dfb86b65babdf3faad","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptOutputPrompt_797dbf0df1cf4549a8a7c1ce7e76e587","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_OutputPrompt_493a3acbcc9241718415c91b43992384","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_fa8b52ec259a4134911c954bc5e95d20","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_a1b30638d3c048f4b08c0d3118542b16","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_72576c45a15d4542be6e92cb866480da","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_ScriptedAction_e0edf7db8d224eea97d2ea62a7ec8697","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_a84f3e159e654858a89abd6df8637263","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_LibraryCall_f08f7073a46e41088ebce2196057a6d5","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true},{"type":"String","name":"__silent_Branch_0d5a7ea39c67446b81ec181074ea4649","unique":false,"key_phrases":[],"mask_type":"NONE","list":false,"static_enum_list":[],"encrypt_if_secure":true}],"actions":[],"tasks":[{"type":"Consumer to system","show_as_button":true,"name":"primary","description":"primary","applicability":"vaVars.__segment_trigger_2f22bad2bf724530bc2aa929b6e255bc_done==false &amp;&amp; true","mode":"Qmode","key_phrases":[],"greeting_msg":"vaInputs.initialize(\"user\");vaInputs.initialize(\"RootDecisionBranch_7881bb01b1b6155085912c3dde65434c\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_e20bc9f57b31474a8e5f9a4b76963fcb\");vaInputs.initialize(\"__silent_ScriptedAction_e0edf7db8d224eea97d2ea62a7ec8697\");vaInputs.initialize(\"get_record\");vaInputs.initialize(\"__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63\");vaInputs.initialize(\"__silent_ScriptedAction_2dc6f161ba354a02aa0fdebdfb782ef2\");vaInputs.initialize(\"__silent_LibraryCall_f08f7073a46e41088ebce2196057a6d5\");vaInputs.initialize(\"incident_or_requested_item\");vaInputs.initialize(\"__silent_Branch_RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c\");vaInputs.initialize(\"__silent_Decision_d6162e4fcfcd422c897e302e315ce3e1\");vaInputs.initialize(\"__silent_Decision_dc00d0e3f354451c945c320feb374512\");vaInputs.initialize(\"__silent_Branch_e2fbf150893f42a88da9f4094038078e\");vaInputs.initialize(\"__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5\");vaInputs.initialize(\"__silent_StartGoal_61e306891a474b079ac522a83f5a5a13\");vaInputs.initialize(\"__silent_Branch_aec40736035b4fa89c856591d3c40f63\");vaInputs.initialize(\"__silent_ScriptedAction_bd265b3bc4c74c76923775c371d56142\");vaInputs.initialize(\"__silent_ScriptedAction_b96fc2487cc0494cb54fac88665cbbec\");vaInputs.initialize(\"__silent_Decision_RootDecision_f481bb014db61550084f07a6234ef04c\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_c23ba424b8b44fc7bb333e41da843fbd\");vaInputs.initialize(\"__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a\");vaInputs.initialize(\"__silent_Branch_0d5a7ea39c67446b81ec181074ea4649\");vaInputs.initialize(\"__silent_OutputPrompt_3e336b038b3e422b92637e149453b19d\");vaInputs.initialize(\"__silent_Branch_5e30f312156e480ba497eff642c3500c\");vaInputs.initialize(\"__silent_Branch_72576c45a15d4542be6e92cb866480da\");vaInputs.initialize(\"__silent_ScriptedAction_a1b30638d3c048f4b08c0d3118542b16\");vaInputs.initialize(\"__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be\");vaInputs.initialize(\"__silent_Branch_e835c3a20cb54e25adceb999d017340a\");vaInputs.initialize(\"__silent_Branch_65284e6e9a8c4619a5a53b6029776229\");vaInputs.initialize(\"comment\");vaInputs.initialize(\"__silent_ScriptedAction_fa8b52ec259a4134911c954bc5e95d20\");vaInputs.initialize(\"__silent_Decision_6e68746a84f044dfb86b65babdf3faad\");vaInputs.initialize(\"__silent_Decision_bdcac7e7600b4030967b87fa3c8a07d4\");vaInputs.initialize(\"__silent_Branch_a84f3e159e654858a89abd6df8637263\");vaInputs.initialize(\"__silent_ScriptOutputPrompt_797dbf0df1cf4549a8a7c1ce7e76e587\");vaInputs.initialize(\"add_comment\");vaInputs.initialize(\"__silent_LibraryCall_a4865bb3db6944a18f9f5de39e255406\");vaInputs.initialize(\"__silent_Branch_2d29e5a6474a428a8381733c296a1241\");vaInputs.initialize(\"__silent_OutputPrompt_493a3acbcc9241718415c91b43992384\");null;","fields":[{"name":"__silent_Decision_RootDecision_f481bb014db61550084f07a6234ef04c","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f481bb014db61550084f07a6234ef04c\";vaInputs.__silent_Decision_RootDecision_f481bb014db61550084f07a6234ef04c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecision_for_goal_primary___RootDecision_f481bb014db61550084f07a6234ef04c\";var ackMsg=null;ackMsg=null;vaInputs.RootDecisionBranch_7881bb01b1b6155085912c3dde65434c=true;(function() {vaInputs.__silent_Branch_RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c.reset();})();ackMsg;"},{"name":"__silent_Branch_RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c","applicable":"vaVars.previous_graph_node==\"RootDecision_for_goal_primary___RootDecision_f481bb014db61550084f07a6234ef04c\" &amp;&amp; ((vaInputs.RootDecisionBranch_7881bb01b1b6155085912c3dde65434c.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c___RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c\";vaInputs.__silent_Branch_RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c___RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_StartGoal_61e306891a474b079ac522a83f5a5a13.reset();})();ackMsg;"},{"name":"__silent_StartGoal_61e306891a474b079ac522a83f5a5a13","applicable":"vaVars.previous_graph_node==\"RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c___RootDecisionBranch_3881bb018fb61550e9f85596e1b38c4c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Start___61e306891a474b079ac522a83f5a5a13\";vaInputs.__silent_StartGoal_61e306891a474b079ac522a83f5a5a13=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Start___61e306891a474b079ac522a83f5a5a13\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_a1b30638d3c048f4b08c0d3118542b16.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_a1b30638d3c048f4b08c0d3118542b16","applicable":"vaVars.previous_graph_node==\"Start___61e306891a474b079ac522a83f5a5a13\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Check Incidents and Requested Items___a1b30638d3c048f4b08c0d3118542b16\";(function execute() {(function execute() {\n    /*\n        Determining whether there are,\n        1. Active incidents opened by the current user\n        2. Active Requested items requested for the current user\n        and assigning the corresponding script variables.\n    */\n\n    // Setting the incident count\n    var incidents = new GlideAggregate('u_employee_tasks');\n    incidents.addQuery('active', true);\n    incidents.addQuery('caller_id', vaInputs.user);\n    incidents.addAggregate('COUNT');\n    incidents.query();\n    var incidentCount = 0;\n    if (incidents.next())\n        incidentCount = incidents.getAggregate('COUNT');\n        \n    vaVars.incident_count = incidentCount;\n\n    // Setting the requested items count\n    var reqItems = new GlideAggregate('sc_req_item');\n    reqItems.addQuery('active', true);\n    reqItems.addQuery('request.requested_for', vaInputs.user);\n    reqItems.addAggregate('COUNT');\n    reqItems.query();\n    var reqItemsCount = 0;\n    if (reqItems.next())\n        reqItemsCount = reqItems.getAggregate('COUNT');\n\n    vaVars.requested_item_count = reqItemsCount;\n})()\n;})();vaInputs.__silent_ScriptedAction_a1b30638d3c048f4b08c0d3118542b16=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Check Incidents and Requested Items___a1b30638d3c048f4b08c0d3118542b16\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Decision_bdcac7e7600b4030967b87fa3c8a07d4.reset();})();(function() {vaInputs.__silent_Branch_e835c3a20cb54e25adceb999d017340a.reset();})();(function() {vaInputs.__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be.reset();})();ackMsg;"},{"name":"__silent_Decision_bdcac7e7600b4030967b87fa3c8a07d4","applicable":"vaVars.previous_graph_node==\"Check Incidents and Requested Items___a1b30638d3c048f4b08c0d3118542b16\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___bdcac7e7600b4030967b87fa3c8a07d4\";vaInputs.__silent_Decision_bdcac7e7600b4030967b87fa3c8a07d4=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___bdcac7e7600b4030967b87fa3c8a07d4\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e835c3a20cb54e25adceb999d017340a.reset();})();(function() {vaInputs.__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be.reset();})();ackMsg;"},{"name":"__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be","applicable":"vaVars.previous_graph_node==\"Decision___bdcac7e7600b4030967b87fa3c8a07d4\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.incident_count) != 0 || parseInt(vaVars.requested_item_count) != 0;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Has Records___02b3174a0170482cbf4740c9c0b1a1be\";vaInputs.__silent_Branch_02b3174a0170482cbf4740c9c0b1a1be=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Has Records___02b3174a0170482cbf4740c9c0b1a1be\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_aec40736035b4fa89c856591d3c40f63.reset();})();(function() {vaInputs.__silent_Branch_2d29e5a6474a428a8381733c296a1241.reset();})();(function() {vaInputs.__silent_Branch_72576c45a15d4542be6e92cb866480da.reset();})();(function() {vaInputs.__silent_Decision_6e68746a84f044dfb86b65babdf3faad.reset();})();ackMsg;"},{"name":"__silent_Branch_e835c3a20cb54e25adceb999d017340a","applicable":"vaVars.previous_graph_node==\"Decision___bdcac7e7600b4030967b87fa3c8a07d4\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.incident_count) == 0 &amp;&amp; parseInt(vaVars.requested_item_count) == 0;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Neither Incidents nor Requested Items___e835c3a20cb54e25adceb999d017340a\";vaInputs.__silent_Branch_e835c3a20cb54e25adceb999d017340a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Neither Incidents nor Requested Items___e835c3a20cb54e25adceb999d017340a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_OutputPrompt_3e336b038b3e422b92637e149453b19d.reset();})();ackMsg;"},{"name":"__silent_Decision_6e68746a84f044dfb86b65babdf3faad","applicable":"vaVars.previous_graph_node==\"Has Records___02b3174a0170482cbf4740c9c0b1a1be\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Records  Decision___6e68746a84f044dfb86b65babdf3faad\";vaInputs.__silent_Decision_6e68746a84f044dfb86b65babdf3faad=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Records  Decision___6e68746a84f044dfb86b65babdf3faad\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_aec40736035b4fa89c856591d3c40f63.reset();})();(function() {vaInputs.__silent_Branch_2d29e5a6474a428a8381733c296a1241.reset();})();(function() {vaInputs.__silent_Branch_72576c45a15d4542be6e92cb866480da.reset();})();ackMsg;"},{"name":"__silent_OutputPrompt_3e336b038b3e422b92637e149453b19d","applicable":"vaVars.previous_graph_node==\"Neither Incidents nor Requested Items___e835c3a20cb54e25adceb999d017340a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Incidents or Requested Items___3e336b038b3e422b92637e149453b19d\";vaInputs.__silent_OutputPrompt_3e336b038b3e422b92637e149453b19d=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"No Incidents or Requested Items___3e336b038b3e422b92637e149453b19d\";var ackMsg=null;ackMsg=(function execute() {return gs.getMessageLang(\"You have no active incidents or requested items.\", vaContext.getRequesterLang());})();(function() {vaInputs.__silent_LibraryCall_a4865bb3db6944a18f9f5de39e255406.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE"},{"name":"__silent_Branch_72576c45a15d4542be6e92cb866480da","applicable":"vaVars.previous_graph_node==\"Records  Decision___6e68746a84f044dfb86b65babdf3faad\" &amp;&amp; (function execute() {\n    return vaVars.incident_count != 0 &amp;&amp; vaVars.requested_item_count != 0;\n})()","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Both Incidents and Requested Items___72576c45a15d4542be6e92cb866480da\";vaInputs.__silent_Branch_72576c45a15d4542be6e92cb866480da=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Both Incidents and Requested Items___72576c45a15d4542be6e92cb866480da\";var ackMsg=null;ackMsg=null;(function() {vaInputs.incident_or_requested_item.reset();})();ackMsg;"},{"name":"__silent_Branch_2d29e5a6474a428a8381733c296a1241","applicable":"vaVars.previous_graph_node==\"Records  Decision___6e68746a84f044dfb86b65babdf3faad\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.incident_count) &gt; 0 &amp;&amp; parseInt(vaVars.requested_item_count) == 0;\n})()","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Incidents only___2d29e5a6474a428a8381733c296a1241\";vaInputs.__silent_Branch_2d29e5a6474a428a8381733c296a1241=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Incidents only___2d29e5a6474a428a8381733c296a1241\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_b96fc2487cc0494cb54fac88665cbbec.reset();})();ackMsg;"},{"name":"__silent_Branch_aec40736035b4fa89c856591d3c40f63","applicable":"vaVars.previous_graph_node==\"Records  Decision___6e68746a84f044dfb86b65babdf3faad\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.requested_item_count) &gt; 0 &amp;&amp; parseInt(vaVars.incident_count) == 0;\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Requested Items Only___aec40736035b4fa89c856591d3c40f63\";vaInputs.__silent_Branch_aec40736035b4fa89c856591d3c40f63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Requested Items Only___aec40736035b4fa89c856591d3c40f63\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_e0edf7db8d224eea97d2ea62a7ec8697.reset();})();ackMsg;"},{"name":"__silent_LibraryCall_a4865bb3db6944a18f9f5de39e255406","applicable":"vaVars.previous_graph_node==\"No Incidents or Requested Items___3e336b038b3e422b92637e149453b19d\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No Deflection___a4865bb3db6944a18f9f5de39e255406\";(function execute() {(function execute() {vaSystem.invokeSubTopic('Deflection', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"Deflection\",\"library_topic_id\":\"7fb4ca055303201033cdddeeff7b12b3\",\"parameter-mappings\":[{\"parameter-name\":\"deflection_configuration\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"5292005253213010000dddeeff7b126c\"},\"metadata\":{\"type\":\"Reference\",\"list\":false,\"use_items\":false,\"table\":\"ssa_deflection_configuration\"}},{\"parameter-name\":\"deflection_pattern\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"9ee3409253213010000dddeeff7b123b\"},\"metadata\":{\"type\":\"Reference\",\"list\":false,\"use_items\":false,\"table\":\"ssa_deflection_pattern\"}},{\"parameter-name\":\"activity_table\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}},{\"parameter-name\":\"activity_ids\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[],\"id\":\"a4865bb3db6944a18f9f5de39e255406\",\"name\":\"No Deflection\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_a4865bb3db6944a18f9f5de39e255406=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"No Deflection___a4865bb3db6944a18f9f5de39e255406\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63.reset();})();ackMsg;"},{"name":"incident_or_requested_item","applicable":"vaVars.previous_graph_node==\"Both Incidents and Requested Items___72576c45a15d4542be6e92cb866480da\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Incident or Requested Item___35ae395923544b0980d972d3631df31f\";(function execute() {\n    var output = '';\n    var incidents = '';\n    var items = '';\n\n    if (vaVars.incident_count != 1) {\n            incidents = gs.getMessage('{0} open incidents',vaVars.incident_count);\n    } else {\n            incidents = gs.getMessage('{0} open incident', vaVars.incident_count);\n    }\n\n    if (vaVars.requested_item_count != 1) {\n            items = gs.getMessage('{0} requested items', vaVars.requested_item_count);\n    } else {\n            items = gs.getMessage('{0} requested item', vaVars.requested_item_count);\n    }\n\n    return gs.getMessage('I just checked and you have {0} and {1}.  Which status would you like to check?', [incidents,items]);\n})()\n","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":true,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Incident or Requested Item___35ae395923544b0980d972d3631df31f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_2dc6f161ba354a02aa0fdebdfb782ef2.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_b96fc2487cc0494cb54fac88665cbbec","applicable":"vaVars.previous_graph_node==\"Incidents only___2d29e5a6474a428a8381733c296a1241\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Incident Table___b96fc2487cc0494cb54fac88665cbbec\";(function execute() {(function execute() {\n    vaVars.table_name = 'u_employee_tasks';\n    vaVars.count = vaVars.incident_count;\n})()\n;})();vaInputs.__silent_ScriptedAction_b96fc2487cc0494cb54fac88665cbbec=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Set Incident Table___b96fc2487cc0494cb54fac88665cbbec\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e2fbf150893f42a88da9f4094038078e.reset();})();(function() {vaInputs.__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5.reset();})();(function() {vaInputs.__silent_Branch_5e30f312156e480ba497eff642c3500c.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_e0edf7db8d224eea97d2ea62a7ec8697","applicable":"vaVars.previous_graph_node==\"Requested Items Only___aec40736035b4fa89c856591d3c40f63\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Requested Item table___e0edf7db8d224eea97d2ea62a7ec8697\";(function execute() {(function execute() {\n    vaVars.table_name = 'sc_req_item';\n    vaVars.count = vaVars.requested_item_count;\n})()\n;})();vaInputs.__silent_ScriptedAction_e0edf7db8d224eea97d2ea62a7ec8697=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Set Requested Item table___e0edf7db8d224eea97d2ea62a7ec8697\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e2fbf150893f42a88da9f4094038078e.reset();})();(function() {vaInputs.__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5.reset();})();(function() {vaInputs.__silent_Branch_5e30f312156e480ba497eff642c3500c.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_2dc6f161ba354a02aa0fdebdfb782ef2","applicable":"vaVars.previous_graph_node==\"Incident or Requested Item___35ae395923544b0980d972d3631df31f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Table___2dc6f161ba354a02aa0fdebdfb782ef2\";(function execute() {(function execute() {\n    vaVars.table_name = vaInputs.incident_or_requested_item;\n    if (vaVars.table_name == 'u_employee_tasks')\n        vaVars.count = vaVars.incident_count;\n    else \n        vaVars.count = vaVars.requested_item_count;\n})()\n;})();vaInputs.__silent_ScriptedAction_2dc6f161ba354a02aa0fdebdfb782ef2=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Set Table___2dc6f161ba354a02aa0fdebdfb782ef2\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e2fbf150893f42a88da9f4094038078e.reset();})();(function() {vaInputs.__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5.reset();})();(function() {vaInputs.__silent_Branch_5e30f312156e480ba497eff642c3500c.reset();})();ackMsg;"},{"name":"__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5","applicable":"(vaVars.previous_graph_node==\"Set Incident Table___b96fc2487cc0494cb54fac88665cbbec\" || vaVars.previous_graph_node==\"Set Table___2dc6f161ba354a02aa0fdebdfb782ef2\" || vaVars.previous_graph_node==\"Set Requested Item table___e0edf7db8d224eea97d2ea62a7ec8697\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Count Decision___d1ad2a85f22e4dfdaf1277c9227031f5\";vaInputs.__silent_Decision_d1ad2a85f22e4dfdaf1277c9227031f5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Count Decision___d1ad2a85f22e4dfdaf1277c9227031f5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_e2fbf150893f42a88da9f4094038078e.reset();})();(function() {vaInputs.__silent_Branch_5e30f312156e480ba497eff642c3500c.reset();})();ackMsg;"},{"name":"__silent_Branch_5e30f312156e480ba497eff642c3500c","applicable":"vaVars.previous_graph_node==\"Count Decision___d1ad2a85f22e4dfdaf1277c9227031f5\" &amp;&amp; (function execute() {\n    return vaVars.count &gt; 1;\n})()","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Multiple Records___5e30f312156e480ba497eff642c3500c\";vaInputs.__silent_Branch_5e30f312156e480ba497eff642c3500c=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Multiple Records___5e30f312156e480ba497eff642c3500c\";var ackMsg=null;ackMsg=null;(function() {vaInputs.get_record.reset();})();ackMsg;"},{"name":"__silent_Branch_e2fbf150893f42a88da9f4094038078e","applicable":"vaVars.previous_graph_node==\"Count Decision___d1ad2a85f22e4dfdaf1277c9227031f5\" &amp;&amp; (function execute() {\n    return parseInt(vaVars.count) == 1;\n})()","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Only One Record___e2fbf150893f42a88da9f4094038078e\";vaInputs.__silent_Branch_e2fbf150893f42a88da9f4094038078e=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Only One Record___e2fbf150893f42a88da9f4094038078e\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptedAction_bd265b3bc4c74c76923775c371d56142.reset();})();ackMsg;"},{"name":"get_record","applicable":"vaVars.previous_graph_node==\"Multiple Records___5e30f312156e480ba497eff642c3500c\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Get Record___2fc48b160e134f84b1aef59da455a157\";var vaRuntimeUtil = new global.VaTopicRuntimeUtil();var funcObj = {\"customApplies\": function() {return (function() {return true})();},\"applies\": function() {return this.customApplies() &amp;&amp; vaVars.optionsCount_2b16b8bc72fc4e4a9c02f53525b42881 &gt; 0;}};(function execute() {var promptMsg=null;if (vaRuntimeUtil.executeFunction(funcObj, 'applies')) {promptMsg = (function execute() {\n    if (vaVars.table_name == 'u_employee_tasks') {\n        if (parseInt(vaVars.incident_count) &gt; parseInt(vaVars.limit)) \n            return gs.getMessage('You have {0} incidents:', vaVars.incident_count);\n        else\n            return gs.getMessage('Here are your incidents:');\n    }\n\n    if (parseInt(vaVars.requested_item_count) &gt; parseInt(vaVars.limit)) \n        return gs.getMessage('You have {0} requested items:', vaVars.requested_item_count);\n    return gs.getMessage('Here are your requested items:');\n})()\n;}else {vaInputs.get_record=\"\";}return promptMsg;})();","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":true,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Get Record___2fc48b160e134f84b1aef59da455a157\";var ackMsg=null;ackMsg=(function execute() {var vaRuntimeUtil=new global.VaTopicRuntimeUtil();var funcObj={\"customApplies\": function() {return (function() {return true})();},\"applies\": function() {return this.customApplies() &amp;&amp; vaVars.optionsCount_2b16b8bc72fc4e4a9c02f53525b42881 &gt; 0;}};var acknowledgeMsg=gs.getMessageLang(\"No Records Found\", vaContext.getRequesterLang());if (vaRuntimeUtil.executeFunction(funcObj, 'applies')) {acknowledgeMsg=(function execute() {return null;})();}return acknowledgeMsg;})();(function() {vaInputs.__silent_ScriptedAction_fa8b52ec259a4134911c954bc5e95d20.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_bd265b3bc4c74c76923775c371d56142","applicable":"vaVars.previous_graph_node==\"Only One Record___e2fbf150893f42a88da9f4094038078e\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Sys Id___bd265b3bc4c74c76923775c371d56142\";(function execute() {(function execute() {\n    // Query the requested item table and get the only requested item\n      var gr = new GlideRecord(vaVars.table_name);\n      gr.addQuery('active', true);\n      if (vaVars.table_name == 'u_employee_tasks')\n            gr.addQuery('caller_id', vaInputs.user);\n      else \n            gr.addQuery('request.requested_for', vaInputs.user);\n\n      gr.setLimit(1);\n      gr.query();\n      if (gr.next()) {\n          vaVars.sys_id = gr.getUniqueValue();\n      }\n})()\n;})();vaInputs.__silent_ScriptedAction_bd265b3bc4c74c76923775c371d56142=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Set Sys Id___bd265b3bc4c74c76923775c371d56142\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_OutputPrompt_493a3acbcc9241718415c91b43992384.reset();})();ackMsg;"},{"name":"__silent_ScriptedAction_fa8b52ec259a4134911c954bc5e95d20","applicable":"vaVars.previous_graph_node==\"Get Record___2fc48b160e134f84b1aef59da455a157\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Set Sys Id___fa8b52ec259a4134911c954bc5e95d20\";(function execute() {(function execute() {\n    vaVars.sys_id = vaInputs.get_record.getValue();\n})()\n;})();vaInputs.__silent_ScriptedAction_fa8b52ec259a4134911c954bc5e95d20=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Set Sys Id___fa8b52ec259a4134911c954bc5e95d20\";var ackMsg=null;ackMsg=null;vaInputs.__silent_OutputPrompt_493a3acbcc9241718415c91b43992384.reset();(function() {vaInputs.__silent_OutputPrompt_493a3acbcc9241718415c91b43992384.reset();})();ackMsg;"},{"name":"__silent_OutputPrompt_493a3acbcc9241718415c91b43992384","applicable":"(vaVars.previous_graph_node==\"Set Sys Id___fa8b52ec259a4134911c954bc5e95d20\" || vaVars.previous_graph_node==\"Set Sys Id___bd265b3bc4c74c76923775c371d56142\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Before Card___493a3acbcc9241718415c91b43992384\";vaInputs.__silent_OutputPrompt_493a3acbcc9241718415c91b43992384=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Before Card___493a3acbcc9241718415c91b43992384\";var ackMsg=null;ackMsg=(function execute() {\n    if (vaVars.table_name == 'u_employee_tasks') {\n        if (parseInt(vaVars.count) == 1)\n            return gs.getMessage('OK, here is your incident:');\n        return gs.getMessage('Here is your incident:');\n    }\n    if (parseInt(vaVars.count) == 1)\n        return gs.getMessage('OK, here is your requested item:');\n    return gs.getMessage('Here is your requested item:');\n})()\n;(function() {vaInputs.__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a.reset();})();(function() {vaInputs.__silent_Branch_0d5a7ea39c67446b81ec181074ea4649.reset();})();(function() {vaInputs.__silent_Decision_d6162e4fcfcd422c897e302e315ce3e1.reset();})();ackMsg;","acknowledge_msg_mask_type":"NONE"},{"name":"__silent_Decision_d6162e4fcfcd422c897e302e315ce3e1","applicable":"vaVars.previous_graph_node==\"Before Card___493a3acbcc9241718415c91b43992384\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Decision___d6162e4fcfcd422c897e302e315ce3e1\";vaInputs.__silent_Decision_d6162e4fcfcd422c897e302e315ce3e1=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Decision___d6162e4fcfcd422c897e302e315ce3e1\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a.reset();})();(function() {vaInputs.__silent_Branch_0d5a7ea39c67446b81ec181074ea4649.reset();})();ackMsg;"},{"name":"__silent_Branch_0d5a7ea39c67446b81ec181074ea4649","applicable":"vaVars.previous_graph_node==\"Decision___d6162e4fcfcd422c897e302e315ce3e1\" &amp;&amp; (function execute() {\n    return vaVars.table_name == 'sc_req_item';\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Requested Item___0d5a7ea39c67446b81ec181074ea4649\";vaInputs.__silent_Branch_0d5a7ea39c67446b81ec181074ea4649=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Requested Item___0d5a7ea39c67446b81ec181074ea4649\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptOutputPrompt_e20bc9f57b31474a8e5f9a4b76963fcb.reset();})();ackMsg;"},{"name":"__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a","applicable":"vaVars.previous_graph_node==\"Decision___d6162e4fcfcd422c897e302e315ce3e1\" &amp;&amp; (function execute() {\n    return vaVars.table_name == 'incident';\n})()\n","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Incident___865fe2e9862f40139fb0059a7ad2f74a\";vaInputs.__silent_Branch_865fe2e9862f40139fb0059a7ad2f74a=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Incident___865fe2e9862f40139fb0059a7ad2f74a\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptOutputPrompt_c23ba424b8b44fc7bb333e41da843fbd.reset();})();ackMsg;"},{"name":"__silent_ScriptOutputPrompt_e20bc9f57b31474a8e5f9a4b76963fcb","applicable":"vaVars.previous_graph_node==\"Requested Item___0d5a7ea39c67446b81ec181074ea4649\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Requested Item card___e20bc9f57b31474a8e5f9a4b76963fcb\";vaInputs.__silent_ScriptOutputPrompt_e20bc9f57b31474a8e5f9a4b76963fcb=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Requested Item card___e20bc9f57b31474a8e5f9a4b76963fcb\";var ackMsg=null;ackMsg=(function execute() {\n   return (function execute() {\n\n    var tableName = vaVars.table_name;\n    var recordId = vaVars.sys_id;\n\n    var link = '';\n    var screenId = '';\n    if (vaVars.portalName === 'mesp') {\n        var mobileDLink = new global.MobileDeepLinkGenerator('request');\n        if (tableName == 'sc_req_item')\n            screenId = '7516f9d787232300e0ef0cf888cb0b4d';\n        else if (tableName == 'sc_request')\n            screenId = '276dd3edb79033001befcd58de11a9c7';\n        else if (tableName == 'incident')\n            screenId = 'ebb94d9c0f2033001befa68ca8767e4e';\n        else\n            screenId = 'd39eb2db87772300e0ef0cf888cb0bcb';\n\n        link = mobileDLink.getFormScreenLink(screenId, tableName, recordId);\n    } else {\n        link = vaVars.baseUri + vaVars.portalName + \"?id=ticket&amp;table=\" + tableName +\"&amp;sys_id=\" + recordId;\n    }\n\n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(tableName);\n    gr.addQuery('sys_id',recordId);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if(gr.next()){\n        subtitle = gr.number.toString();\n        fields.push({\"fieldLabel\": gr.getElement('cat_item').getLabel(), \"fieldValue\": gr.getDisplayValue('cat_item').toString()});\n        fields.push({\"fieldLabel\": gr.getElement('state').getLabel(), \"fieldValue\": gr.getDisplayValue('state').toString()});\n        if( !gs.nil(gr.getDisplayValue('assigned_to').toString()) ){\n            fields.push({\"fieldLabel\": gr.getElement('assigned_to').getLabel(), \"fieldValue\": gr.getDisplayValue('assigned_to').toString()});\n        }\n        fields.push({\"fieldLabel\": gr.getElement('sys_updated_on').getLabel(), \"fieldValue\": gr.getDisplayValue('sys_updated_on').toString()});\n\n        var count = 0;\n        var grComments = new GlideRecord('sys_journal_field');\n        grComments.addQuery('element_id', recordId);\n        grComments.addQuery('name', tableName);\n        grComments.addQuery('element', \"comments\");\n        grComments.orderByDesc('sys_created_on');\n        grComments.setLimit(vaVars.max_comment_count);\n        grComments.query();\n        while (grComments.next()) {\n            var commenter = [];\n            var user = new GlideRecord('sys_user');\n            user.get('user_name', grComments.sys_created_by);\n            var userName = user.getDisplayValue(\"name\");\n            commenter.push(userName);\n            var now = new GlideDateTime();\n            var schedule = new GlideSchedule();\n            schedule.load('38fa64edc0a8016400f4a5724b0434b8');\n            var start = new GlideDateTime(grComments.getValue(\"sys_created_on\"));\n            var duration = schedule.duration(start, now);\n            if (duration.getRoundedDayPart() &gt; 1)\n                var elapsedTime = gs.getMessage(\"{0} days ago\", [duration.getRoundedDayPart()]);\n            else if (duration.getRoundedDayPart() == 1)\n                var elapsedTime = gs.getMessage(\"{0} day ago\", [duration.getRoundedDayPart()]);\n            else\n                var elapsedTime = gs.getMessage(\"{0} ago\", [duration.getDisplayValue()]);\n\n            var comment = grComments.value.replace(/&lt;\\/?[^&gt;]+(&gt;|$)/g, \"\");\n            var comments = [ commenter, \" - \", elapsedTime, \" : \", comment];\n            var displayComments = comments.join(\"\");\n            if(displayComments.length &gt;= vaVars.comments_length) {\n                var editComments = [ displayComments.substring(0, vaVars.comments_length) , '...' ];\n                displayComments =  editComments.join(\"\");\n            }\n            \n            if(count == 0) {\n                fields.push({\"fieldLabel\": gr.getElement('comments').getLabel(), \"fieldValue\": displayComments});\n            } else {\n                fields.push({ \"fieldValue\": displayComments});\n            }\n            count++;\n        }\n    }\n    \n    var card_data = JSON.stringify({\n            \"title\":title,\n            \"subtitle\":subtitle,\n            \"fields\":fields,\n            \"url\":link.toString()\n      });\n    return vaSystem.renderCard(\"Card\", card_data); \n})();\n})();(function() {vaInputs.add_comment.reset();})();ackMsg;"},{"name":"__silent_ScriptOutputPrompt_c23ba424b8b44fc7bb333e41da843fbd","applicable":"vaVars.previous_graph_node==\"Incident___865fe2e9862f40139fb0059a7ad2f74a\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Incident card___c23ba424b8b44fc7bb333e41da843fbd\";vaInputs.__silent_ScriptOutputPrompt_c23ba424b8b44fc7bb333e41da843fbd=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Incident card___c23ba424b8b44fc7bb333e41da843fbd\";var ackMsg=null;ackMsg=(function execute() {\n   return (function execute() {\n\n    var tableName = vaVars.table_name;\n    var recordId = vaVars.sys_id;\n\n    var link = '';\n    var screenId = '';\n    if (vaVars.portalName === 'mesp') {\n        var mobileDLink = new global.MobileDeepLinkGenerator('request');\n        if (tableName == 'sc_req_item')\n            screenId = '7516f9d787232300e0ef0cf888cb0b4d';\n        else if (tableName == 'sc_request')\n            screenId = '276dd3edb79033001befcd58de11a9c7';\n        else if (tableName == 'u_employee_tasks')\n            screenId = 'ebb94d9c0f2033001befa68ca8767e4e';\n        else\n            screenId = 'd39eb2db87772300e0ef0cf888cb0bcb';\n\n        link = mobileDLink.getFormScreenLink(screenId, tableName, recordId);\n    } else {\n        link = vaVars.baseUri + vaVars.portalName + \"?id=ticket&amp;table=\" + tableName +\"&amp;sys_id=\" + recordId;\n    }\n\n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(tableName);\n    gr.addQuery('sys_id',recordId);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if(gr.next()){\n        subtitle = gr.number.toString();\n        if( !gs.nil(gr.getDisplayValue('short_description').toString()) ){\n            fields.push({\"fieldLabel\": gr.getElement('short_description').getLabel(), \"fieldValue\": gr.getDisplayValue('short_description').toString()});\n        }\n        fields.push({\"fieldLabel\": gr.getElement('state').getLabel(), \"fieldValue\": gr.getDisplayValue('state').toString()});\n        if( !gs.nil(gr.getDisplayValue('assigned_to').toString()) ){\n            fields.push({\"fieldLabel\": gr.getElement('assigned_to').getLabel(), \"fieldValue\": gr.getDisplayValue('assigned_to').toString()});\n        }\n        fields.push({\"fieldLabel\": gr.getElement('sys_updated_on').getLabel(), \"fieldValue\": gr.getDisplayValue('sys_updated_on').toString()});\n\n        var count = 0;\n        var grComments = new GlideRecord('sys_journal_field');\n        grComments.addQuery('element_id', recordId);\n        grComments.addQuery('name', tableName);\n        grComments.addQuery('element', \"comments\");\n        grComments.orderByDesc('sys_created_on');\n        grComments.setLimit(vaVars.max_comment_count);\n        grComments.query();\n        while (grComments.next()) {\n            var commenter = [];\n            var user = new GlideRecord('sys_user');\n            user.get('user_name', grComments.sys_created_by);\n            var userName = user.getDisplayValue(\"name\");\n            commenter.push(userName);\n            var now = new GlideDateTime();\n            var schedule = new GlideSchedule();\n            schedule.load('38fa64edc0a8016400f4a5724b0434b8');\n            var start = new GlideDateTime(grComments.getValue(\"sys_created_on\"));\n            var duration = schedule.duration(start, now);\n            if (duration.getRoundedDayPart() &gt; 1)\n                var elapsedTime = gs.getMessage(\"{0} days ago\", [duration.getRoundedDayPart()]);\n            else if (duration.getRoundedDayPart() == 1)\n                var elapsedTime = gs.getMessage(\"{0} day ago\", [duration.getRoundedDayPart()]);\n            else\n                var elapsedTime = gs.getMessage(\"{0} ago\", [duration.getDisplayValue()]);\n\n            var comment = grComments.value.replace(/&lt;\\/?[^&gt;]+(&gt;|$)/g, \"\");\n            var comments = [ commenter, \" - \", elapsedTime, \" : \", comment];\n            var displayComments = comments.join(\"\");\n            if(displayComments.length &gt;= vaVars.comments_length) {\n                var editComments = [ displayComments.substring(0, vaVars.comments_length) , '...' ];\n                displayComments =  editComments.join(\"\");\n            }\n            \n            if(count == 0) {\n                fields.push({\"fieldLabel\": gr.getElement('comments').getLabel(), \"fieldValue\": displayComments});\n            } else {\n                fields.push({ \"fieldValue\": displayComments});\n            }\n            count++;\n        }\n    }\n    \n    var card_data = JSON.stringify({\n            \"title\":title,\n            \"subtitle\":subtitle,\n            \"fields\":fields,\n            \"url\":link.toString()\n      });\n    return vaSystem.renderCard(\"Card\", card_data); \n})();\n})();(function() {vaInputs.add_comment.reset();})();ackMsg;"},{"name":"add_comment","applicable":"(vaVars.previous_graph_node==\"Requested Item card___e20bc9f57b31474a8e5f9a4b76963fcb\" || vaVars.previous_graph_node==\"Incident card___c23ba424b8b44fc7bb333e41da843fbd\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Add Comment___60a405d63667469da84301ae2dd2bb3f\";gs.getMessageLang(\"Would you like to add a comment?\", vaContext.getRequesterLang())","input_prompt_format_type":"text","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Add Comment___60a405d63667469da84301ae2dd2bb3f\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_LibraryCall_f08f7073a46e41088ebce2196057a6d5.reset();})();ackMsg;"},{"name":"__silent_LibraryCall_f08f7073a46e41088ebce2196057a6d5","applicable":"vaVars.previous_graph_node==\"Add Comment___60a405d63667469da84301ae2dd2bb3f\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Deflection: Status shown___f08f7073a46e41088ebce2196057a6d5\";(function execute() {(function execute() {vaSystem.invokeSubTopic('Deflection', JSON.stringify({\"type\":\"LibraryCall\",\"type\":\"LibraryCall\",\"library_topic_name\":\"Deflection\",\"library_topic_id\":\"7fb4ca055303201033cdddeeff7b12b3\",\"parameter-mappings\":[{\"parameter-name\":\"deflection_configuration\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"5292005253213010000dddeeff7b126c\"},\"metadata\":{\"type\":\"Reference\",\"list\":false,\"use_items\":false,\"table\":\"ssa_deflection_configuration\"}},{\"parameter-name\":\"deflection_pattern\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"0273885253213010000dddeeff7b1210\"},\"metadata\":{\"type\":\"Reference\",\"list\":false,\"use_items\":false,\"table\":\"ssa_deflection_pattern\"}},{\"parameter-name\":\"activity_table\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}},{\"parameter-name\":\"activity_ids\",\"value\":{\"type\":\"String\",\"type\":\"String\",\"mode\":\"string\",\"value\":\"\"},\"metadata\":{\"type\":\"String\",\"list\":false,\"use_items\":false}}],\"return-value-mappings\":[],\"id\":\"f08f7073a46e41088ebce2196057a6d5\",\"name\":\"Deflection: Status shown\",\"goal_id\":\"primary\",\"applicability\":{\"type\":\"Applicability\",\"type\":\"Applicability\",\"mode\":\"script\",\"value\":\"true\"}}));})();})();vaInputs.__silent_LibraryCall_f08f7073a46e41088ebce2196057a6d5=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Deflection: Status shown___f08f7073a46e41088ebce2196057a6d5\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_65284e6e9a8c4619a5a53b6029776229.reset();})();(function() {vaInputs.__silent_Branch_a84f3e159e654858a89abd6df8637263.reset();})();(function() {vaInputs.__silent_Decision_dc00d0e3f354451c945c320feb374512.reset();})();ackMsg;"},{"name":"__silent_Decision_dc00d0e3f354451c945c320feb374512","applicable":"vaVars.previous_graph_node==\"Deflection: Status shown___f08f7073a46e41088ebce2196057a6d5\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Add Comment Decision___dc00d0e3f354451c945c320feb374512\";vaInputs.__silent_Decision_dc00d0e3f354451c945c320feb374512=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Add Comment Decision___dc00d0e3f354451c945c320feb374512\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_Branch_65284e6e9a8c4619a5a53b6029776229.reset();})();(function() {vaInputs.__silent_Branch_a84f3e159e654858a89abd6df8637263.reset();})();ackMsg;"},{"name":"__silent_Branch_65284e6e9a8c4619a5a53b6029776229","applicable":"vaVars.previous_graph_node==\"Add Comment Decision___dc00d0e3f354451c945c320feb374512\" &amp;&amp; ((vaInputs.add_comment.getValue() == false))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"No___65284e6e9a8c4619a5a53b6029776229\";vaInputs.__silent_Branch_65284e6e9a8c4619a5a53b6029776229=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"No___65284e6e9a8c4619a5a53b6029776229\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63.reset();})();ackMsg;"},{"name":"__silent_Branch_a84f3e159e654858a89abd6df8637263","applicable":"vaVars.previous_graph_node==\"Add Comment Decision___dc00d0e3f354451c945c320feb374512\" &amp;&amp; ((vaInputs.add_comment.getValue() == true))","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Yes___a84f3e159e654858a89abd6df8637263\";vaInputs.__silent_Branch_a84f3e159e654858a89abd6df8637263=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Yes___a84f3e159e654858a89abd6df8637263\";var ackMsg=null;ackMsg=null;(function() {vaInputs.comment.reset();})();ackMsg;"},{"name":"comment","applicable":"vaVars.previous_graph_node==\"Yes___a84f3e159e654858a89abd6df8637263\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Comment___72d6cfaafbb644b8919092c2b7e6df69\";gs.getMessageLang(\"Please enter your comment.\", vaContext.getRequesterLang())","input_prompt_format_type":"Text","input_prompt_validaton_script":"","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":true,"acknowledge_msg":"vaVars.previous_graph_node=\"Comment___72d6cfaafbb644b8919092c2b7e6df69\";var ackMsg=null;ackMsg=null;(function() {vaInputs.__silent_ScriptOutputPrompt_797dbf0df1cf4549a8a7c1ce7e76e587.reset();})();ackMsg;"},{"name":"__silent_ScriptOutputPrompt_797dbf0df1cf4549a8a7c1ce7e76e587","applicable":"vaVars.previous_graph_node==\"Comment___72d6cfaafbb644b8919092c2b7e6df69\"","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"Update Record___797dbf0df1cf4549a8a7c1ce7e76e587\";vaInputs.__silent_ScriptOutputPrompt_797dbf0df1cf4549a8a7c1ce7e76e587=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"Update Record___797dbf0df1cf4549a8a7c1ce7e76e587\";var ackMsg=null;ackMsg=(function execute() {\n   return (function execute() {\n    var response = '';\n    var gr = new GlideRecordSecure(vaVars.table_name);\n    if (gr.get(vaVars.sys_id)) {\n        var comment = vaInputs.comment.getValue().trim();\n        if (comment) {\n            gr.comments = comment;\n            gr.update();\n            if (vaVars.table_name == 'u_employee_tasks')\n                response = gs.getMessage(\"I've updated the incident.\");\n            else\n                response = gs.getMessage(\"I've updated the requested item.\");  \n        } else {\n            response = gs.getMessage(\"OK, no comment will be added.\");\n        }\n    } else\n        response = gs.getMessage(\"I couldn't find the record.\");\n\n    return response;\n})();\n})();(function() {vaInputs.__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63.reset();})();ackMsg;"},{"name":"__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63","applicable":"(vaVars.previous_graph_node==\"No___65284e6e9a8c4619a5a53b6029776229\" || vaVars.previous_graph_node==\"Update Record___797dbf0df1cf4549a8a7c1ce7e76e587\" || vaVars.previous_graph_node==\"No Deflection___a4865bb3db6944a18f9f5de39e255406\")","direction":"Input","required":true,"prompt_msg":"vaVars.previous_graph_node=\"End___ea90e7ba8d254d4ab26c2d3e36a7cd63\";vaInputs.__silent_TerminateGoal_ea90e7ba8d254d4ab26c2d3e36a7cd63=true;null;","confirm_msg_on_default_value":{"msg":"","val_for_confirm":true},"nlu_text_input":false,"nlu_confirmation_prompt":false,"acknowledge_msg":"vaVars.previous_graph_node=\"End___ea90e7ba8d254d4ab26c2d3e36a7cd63\";var ackMsg=null;ackMsg=null;vaVars.__segment_trigger_2f22bad2bf724530bc2aa929b6e255bc_done=true;ackMsg;"}],"variables_update":[]}],"roles":[],"active":true,"published":true,"library":false,"expose_on_palette":false,"palette_label":"","flexible_conversation_switching":false,"design_categories":[{"name":"ITSM Self Service","visible":false,"sysId":"3efd22da0b203300a1b16c2367673a10"}],"nlu_provider":"","nlu_model":"","nlu_intent":"","topic_type":"STANDARD","channels":[],"triggerable_by_notification":false,"secure_custom_input_control":false,"score":0.0,"visible":true,"discoverable":true,"sys_scope":"d86e2d95874a5110f7c50e1d0ebb357d","sys_domain":"global","title":"Check request item Status","nlu_intent_label":"","nlu_model_label":""}</definition>
        <design_category>3efd22da0b203300a1b16c2367673a10</design_category>
        <discoverable>true</discoverable>
        <expose_on_palette>false</expose_on_palette>
        <fields/>
        <flexible_conversation_switching>false</flexible_conversation_switching>
        <is_system_topic>false</is_system_topic>
        <key_phrases>Check request item Status Check status ticket status latest update check status Request Requested Item Incident</key_phrases>
        <last_published_on>2022-10-26 04:56:00</last_published_on>
        <library>false</library>
        <library_usage>null</library_usage>
        <metaphone>ANST APTT STT XK ATM LTST RKST TKT</metaphone>
        <name>Check request item Status</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <published>true</published>
        <roles>snc_internal</roles>
        <secure_custom_input_control>false</secure_custom_input_control>
        <sys_class_name>sys_cs_topic</sys_class_name>
        <sys_created_by>Jab19</sys_created_by>
        <sys_created_on>2022-10-25 11:36:32</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>da93c801877ad150f7c50e1d0ebb356f</sys_id>
        <sys_mod_count>6</sys_mod_count>
        <sys_name>Check request item Status</sys_name>
        <sys_package display_value="InstaV Portal" source="x_intep_instav">d86e2d95874a5110f7c50e1d0ebb357d</sys_package>
        <sys_policy/>
        <sys_scope display_value="InstaV Portal">d86e2d95874a5110f7c50e1d0ebb357d</sys_scope>
        <sys_update_name>sys_cs_topic_da93c801877ad150f7c50e1d0ebb356f</sys_update_name>
        <sys_updated_by>Jab19</sys_updated_by>
        <sys_updated_on>2022-11-05 05:30:36</sys_updated_on>
        <title>Check request item Status</title>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>STANDARD</type>
        <vendor display_value="ServiceNow">c2f0b8f187033200246ddd4c97cb0bb9</vendor>
        <visible>false</visible>
    </sys_cs_topic>
    <sys_variable_value action="delete_multiple" query="document_key=da93c801877ad150f7c50e1d0ebb356f"/>
</record_update>
